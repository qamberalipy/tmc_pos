{% extends "base.html" %}
{% block stylesheets %}
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f8f9fc;
    }
    .card {
      border: none;
      border-radius: 0.5rem;
      box-shadow: 0 0.15rem 1rem rgba(58,59,69,0.15);
      transition: transform 0.2s;
    }
    .card:hover { transform: translateY(-5px); }
    .card-header {
      background: #fff;
      border-bottom: 1px solid #e3e6f0;
      font-weight: 600;
    }
    .stat-card .icon {
      position: absolute;
      top: 1rem;
      right: 1rem;
      font-size: 2.5rem;
      opacity: 0.2;
    }
    .chart-container { height: 300px; }
    .footer {
      background: #fff;
      box-shadow: 0 -1px 5px rgba(0,0,0,0.1);
    }
  </style>
{% endblock stylesheets %}

{% block content %}
{% endblock %}
{% block user_page %} 
  <div class="container-fluid px-4">
    <!-- Heading -->
    

    <!-- Stats -->
    <div class="row">
      <div class="col-xl-3 col-md-6 mb-4">
        <div class="card shadow h-100 py-2 stat-card">
          <div class="card-body d-flex justify-content-between align-items-center">
            <div>
              <div class="text-xs fw-bold text-primary text-uppercase mb-1">Total Revenue</div>
              <div class="h5 fw-bold">$45,231</div>
              <div class="text-xs text-success mt-2"><i class="fas fa-arrow-up"></i> 12% since last month</div>
            </div>
            <i class="fas fa-dollar-sign fa-2x text-gray-300 icon"></i>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-md-6 mb-4">
        <div class="card shadow h-100 py-2 stat-card">
          <div class="card-body d-flex justify-content-between align-items-center">
            <div>
              <div class="text-xs fw-bold text-success text-uppercase mb-1">Sales</div>
              <div class="h5 fw-bold">1,234</div>
              <div class="text-xs text-success mt-2"><i class="fas fa-arrow-up"></i> 8% since last month</div>
            </div>
            <i class="fas fa-shopping-cart fa-2x text-gray-300 icon"></i>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-md-6 mb-4">
        <div class="card shadow h-100 py-2 stat-card">
          <div class="card-body d-flex justify-content-between align-items-center">
            <div>
              <div class="text-xs fw-bold text-warning text-uppercase mb-1">Profit</div>
              <div class="h5 fw-bold">$18,450</div>
              <div class="text-xs text-success mt-2"><i class="fas fa-arrow-up"></i> 15% since last month</div>
            </div>
            <i class="fas fa-chart-line fa-2x text-gray-300 icon"></i>
          </div>
        </div>
      </div>

      <div class="col-xl-3 col-md-6 mb-4">
        <div class="card shadow h-100 py-2 stat-card">
          <div class="card-body d-flex justify-content-between align-items-center">
            <div>
              <div class="text-xs fw-bold text-danger text-uppercase mb-1">Active Users</div>
              <div class="h5 fw-bold">1,256</div>
              <div class="text-xs text-danger mt-2"><i class="fas fa-arrow-down"></i> 3% since last hour</div>
            </div>
            <i class="fas fa-users fa-2x text-gray-300 icon"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- Charts -->
    <div class="row">
      <div class="col-xl-8 col-lg-7 mb-4">
        <div class="card">
          <div class="card-header">Revenue & Profit Overview</div>
          <div class="card-body"><canvas id="revenueProfitChart"></canvas></div>
        </div>
      </div>
      <div class="col-xl-4 col-lg-5 mb-4">
        <div class="card">
          <div class="card-header">Sales by Category</div>
          <div class="card-body"  style="    max-height: 184px; width:100%;"><canvas id="salesCategoryChart"></canvas></div>
        </div>
      </div>
    </div>

    <!-- User Activity + Sales -->
    <div class="row">
      <div class="col-lg-6 mb-4">
        <div class="card">
          <div class="card-header">User Activity</div>
          <div class="card-body"><canvas id="userActivityChart"></canvas></div>
        </div>
      </div>
      <div class="col-lg-6 mb-4">
        <div class="card">
          <div class="card-header">Recent Sales</div>
          <div class="card-body">
            <table class="table table-borderless">
              <thead>
                <tr><th>Customer</th><th>Product</th><th>Date</th><th>Amount</th></tr>
              </thead>
              <tbody>
                <tr><td>John Smith</td><td>Premium Package</td><td>04/15/2025</td><td class="text-success">$299</td></tr>
                <tr><td>Sarah Johnson</td><td>Basic Plan</td><td>04/14/2025</td><td class="text-success">$99</td></tr>
                <tr><td>Mike Davis</td><td>Enterprise Suite</td><td>04/14/2025</td><td class="text-success">$1,299</td></tr>
                <tr><td>Emily Wilson</td><td>Standard Package</td><td>04/13/2025</td><td class="text-success">$199</td></tr>
                <tr><td>Robert Brown</td><td>Premium Package</td><td>04/13/2025</td><td class="text-success">$299</td></tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block javascript %}  
  <script>
    // Revenue & Profit Chart
    new Chart(document.getElementById('revenueProfitChart'), {
      type: 'line',
      data: {
        labels: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
        datasets: [
          {label:'Revenue',data:[4000,6000,8500,5500,7000,9000,10500,12000,11500,13000,15000,17000],borderColor:'#4e73df',backgroundColor:'rgba(78,115,223,0.1)',fill:true,tension:0.3},
          {label:'Profit',data:[1500,2500,3500,2000,3000,4000,5000,6000,5500,7000,8000,9000],borderColor:'#1cc88a',backgroundColor:'rgba(28,200,138,0.1)',fill:true,tension:0.3}
        ]
      },
      options:{responsive:true,maintainAspectRatio:false}
    });

    // Sales by Category
new Chart(document.getElementById('salesCategoryChart'), {
  type: 'doughnut',
  data: {
    labels: ['Electronics', 'Clothing', 'Home & Garden', 'Books', 'Other'],
    datasets: [{
      data: [35, 20, 15, 10, 20],
      backgroundColor: ['#4e73df','#1cc88a','#36b9cc','#f6c23e','#e74a3b'],
      borderWidth: 2,
      borderColor: '#fff',
      hoverOffset: 8
    }]
  },
  options: {
    responsive: true,
    maintainAspectRatio: false, // ðŸ‘ˆ important to let it stretch
    cutout: '70%',
    plugins: {
      legend: {
        position: 'bottom'
      }
    }
  }
});



    // User Activity
    new Chart(document.getElementById('userActivityChart'), {
      type: 'bar',
      data: {
        labels:['Mon','Tue','Wed','Thu','Fri','Sat','Sun'],
        datasets:[{label:'Active Users',data:[850,1100,950,1200,1350,900,800],backgroundColor:'#36b9cc'}]
      },
      options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}}}
    });
  </script>

{% endblock %}
